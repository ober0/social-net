<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user-page.css') }}">
    <style>
        body{
            background-color: #1b1b1b;
        }
        .user{
            margin-top: 5px;
        }
    </style>
    <title>Document</title>
</head>
<body data-bs-theme="dark">
    <div id='body'   class="container">
        <div class="col-md-12">
            <header>
                {% include 'header.html' %}
                {% block header %}{% endblock %}
            </header>
        </div>



        <div class="col-md-12">
            <div class="user">
                <div class="row">
                    <div class="col-sm-2">
                    {% include 'left-menu.html' %}
                    {% block left_menu %}{% endblock %}
                    </div>
                    <div class="col-sm-10">
                        <div class="profile-header">
                            <div class="avatar">
                                {% if user.avatar_path %}
                                    <img style="border-radius: 50%; width: 150px; height: 150px" src="{{ url_for('static', filename='avatars/users/' + user.avatar_path) }}" alt="">
                                {% else %}
                                    <img style="border-radius: 50%; width: 150px; height: 150px" src="{{ url_for('static', filename='avatars/default.png') }}" alt="">
                                {% endif %}

                            </div>
                            <div class="info">
                                <br>
                                <h1>{{ user.name }} {{ user.second_name }}</h1>
                                <div class="user-header-info">
                                    {% if user.show_city == '1' %}
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <img style="width: 18px" src="{{ url_for('static', filename='img/city.png') }}" alt="">
                                            </div>
                                            <div class="col-sm-10">
                                                <p class="user-header-info-p" style="position: relative; right: 7px">{{ user.county}}, {{ user.city }}</p>
                                            </div>
                                        </div>
                                    {% else %}
                                        {% if user.show_date_of_birthday == '1' %}
                                            <div class="row">
                                                <div class="col-sm-2">
                                                    <img style="width: 18px" src="{{ url_for('static', filename='img/birthday.png') }}" alt="">
                                                </div>
                                                <div class="col-sm-10">
                                                    <p class="user-header-info-p" style="position: relative; right: 7px">{{ birthday_correct }}</p>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endif %}

                                    <div class="row" style="cursor:pointer;">
                                        <div class="col-sm-2">
                                            <img style="width: 18px" src="{{ url_for('static', filename='img/info.png') }}" alt="">
                                        </div>
                                        <div class="col-sm-10">
                                            <p onclick="about()" class="user-header-info-p user-header-info-p-pointer" style="position: relative; right: 7px; bottom:2px">Подробнее</p>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="user-buttons">
                                {% if _self == 1 %}
                                    <input onclick="go_edit_prifile()" type="button" class="user-header-button edit-profile" value="Редактировать профиль">
                                {% else %}
                                    <input onclick="go_message()" type="button" class="user-header-button message-profile" value="Сообщение">
                                    {% if isFriend == 0 %}
                                        <input onclick="addFriend({{user.id}})" type="button" class="user-header-button friend-profile" value="Добавить в друзья">
                                    {% else %}
                                        <input onclick="remFriend({{user.id}})" type="button" class="user-header-button friend-profile" value="Удалить из друзей">
                                    {% endif%}
                                {% endif %}
                            </div>
                        </div>
                    </div>



                </div>
            </div>

        </div>
    </div>
    <div id='about' class="hide about-info">
        <div onclick="hideAbout()" style="width: 30px; height: 30px; background-color: #6a6a6a; cursor: pointer; position: absolute;right: 5%; border-radius: 10px; text-align: center">
            <p  style="color:#770000; font-size: 20px;">x</p>
        </div>

        <p><b>Подробная информация</b></p>
        <hr>
        <div>
            <p>@{{ user.tag }}</p>
            <hr>
            <div class="row">
                    <div class="col-sm-2">
                        <img style="width: 20px" src="{{ url_for('static', filename='img/man.png') }}" alt="">
                    </div>
                    <div class="col-sm-10 info-text">
                        <div class="row">
                            <div class="col-sm-4">
                                <p style="color:#a6a6a6">Пол: </p>
                            </div>
                            <div class="col-sm-8">
                                <p class="user-header-info-p" style="position: relative; right: 7px">
                                    {% if user.gender == 'man' %}
                                    Мужчина
                                    {% elif user.gender == 'woman' %}
                                    Женщина
                                    {% else %}
                                    user.gender
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>


            {% if user.show_education == '1' %}
                <div class="row">
                    <div class="col-sm-2">
                        <img style="width: 18px" src="{{ url_for('static', filename='img/book.png') }}" alt="">
                    </div>
                    <div class="col-sm-10 info-text">
                        <div class="row">
                            <div class="col-sm-4">
                                <p style="color:#a6a6a6">Образование: </p>
                            </div>
                            <div class="col-sm-8">
                                <p class="user-header-info-p" style="position: relative; right: 7px">{{user.education_place}}  {{user.education_start}}-{{user.education_end}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
            {% if user.show_city == '1' %}
                <div class="row">
                    <div class="col-sm-2">
                        <img style="width: 18px" src="{{ url_for('static', filename='img/city.png') }}" alt="">
                    </div>
                    <div class="col-sm-10 info-text">
                        <div class="row">
                            <div class="col-sm-4">
                                <p style="color:#a6a6a6">Место жительства: </p>
                            </div>
                            <div class="col-sm-8">
                               <p class="user-header-info-p" style="position: relative; right: 7px">{{ user.county}}, {{ user.city }}</p>
                            </div>

                        </div>

                    </div>
                </div>
            {% endif %}
            {% if user.show_date_of_birthday == '1' %}
                <div class="row">
                    <div class="col-sm-2">
                        <img style="width: 18px" src="{{ url_for('static', filename='img/birthday.png') }}" alt="">
                    </div>
                    <div class="col-sm-10 info-text">
                        <div class="row">
                            <div class="col-sm-4">
                                <p style="color:#a6a6a6">День рождения: </p>
                            </div>
                            <div class="col-sm-8">
                                <p class="user-header-info-p" style="position: relative; right: 7px">{{ birthday_correct }}</p>
                            </div>
                        </div>

                    </div>
                </div>
            {% endif %}

            <hr>
            <div class="row">
                <div class="col-sm-2">
                    <svg style="width: 20px; color: gray;" class='col-sm-4 ' fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M6.25 3.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-1.5 3a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm-2.06 5.07c.96-.55 2.22-.82 3.56-.82s2.6.27 3.56.82c.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54H3.5c-.61 0-1.24-.15-1.72-.54-.5-.4-.78-1-.78-1.71 0-1.21.71-2.12 1.69-2.68zm.75 1.3c-.65.37-.94.84-.94 1.38 0 .3.1.44.22.54.14.11.4.21.78.21H9c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38-.66-.39-1.65-.62-2.81-.62s-2.15.23-2.81.62zM13.75 3.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-1.5 3a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0z"></path></g><path d="M13.75 12.25c-.23 0-.45.01-.68.03a.75.75 0 1 1-.14-1.49c.27-.03.54-.04.82-.04 1.34 0 2.6.27 3.56.82.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54h-3a.75.75 0 0 1 0-1.5h3c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38a5.77 5.77 0 0 0-2.81-.62z"></path></g></svg>
                </div>
                <div onclick="goFriends({{user.id}})" class="col-sm-10 info-text hover">
                    <div class="row">
                        <div style="color:#a6a6a6" class="col-sm-2">
                            Друзей
                        </div>
                        <div class="col-sm-10 user-header-info-p">
                            {% if friends_count %}
                                {{ friends_count }}
                            {% else %}
                                0
                            {% endif %}
                        </div>
                    </div>

                </div>
            </div>

            <div style="margin-top: 5px" class="row">
                <div class="col-sm-2">
                    <svg style="width: 20px; color: gray;" class='col-sm-4 ' fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M10 7.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zM7.25 6.5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0zm-.5 7.25c0-.42.23-.83.8-1.17A4.81 4.81 0 0 1 10 12c1.03 0 1.88.23 2.45.58.57.34.8.75.8 1.17 0 .3-.1.44-.22.54-.14.11-.4.21-.78.21h-4.5c-.39 0-.64-.1-.78-.21-.12-.1-.22-.25-.22-.54zM10 10.5c-1.22 0-2.37.27-3.23.8-.88.53-1.52 1.37-1.52 2.45 0 .7.28 1.3.78 1.71.48.39 1.1.54 1.72.54h4.5c.61 0 1.24-.15 1.72-.54.5-.4.78-1 .78-1.71 0-1.08-.64-1.92-1.52-2.45-.86-.53-2-.8-3.23-.8zm4-5.59c.06-.4.44-.7.85-.64a2.5 2.5 0 0 1-.35 4.98.75.75 0 0 1 0-1.5 1 1 0 0 0 .14-1.99.75.75 0 0 1-.63-.85zM15.76 10a.75.75 0 0 0 0 1.5c1.16 0 1.75.67 1.75 1.25 0 .22-.07.41-.19.55-.1.12-.24.2-.46.2a.75.75 0 0 0 0 1.5c1.43 0 2.15-1.21 2.15-2.25 0-1.71-1.6-2.75-3.25-2.75zM5 10.75a.75.75 0 0 0-.75-.75C2.61 10 1 11.04 1 12.75 1 13.79 1.72 15 3.15 15a.75.75 0 0 0 0-1.5.57.57 0 0 1-.47-.2.86.86 0 0 1-.18-.55c0-.58.6-1.25 1.75-1.25.41 0 .75-.34.75-.75zm.14-6.47a.75.75 0 0 1 .22 1.48 1 1 0 0 0 .14 1.99.75.75 0 1 1 0 1.5 2.5 2.5 0 0 1-.36-4.97z" fill="currentColor" fill-rule="evenodd"></path></svg>
                </div>
                <div onclick="goSubs({{user.id}})" class="col-sm-10 info-text hover">
                    <div  class="row">
                        <div style="color:#a6a6a6" class="col-sm-2">
                            Подписок:
                        </div>
                        <div class="col-sm-10 user-header-info-p">
                            {% if subscriptions_count %}
                                {{ subscriptions_count }}
                            {% else %}
                                0
                            {% endif %}
                        </div>
                    </div>

                </div>
            </div>



        </div>
    </div>
    <script src="{{ url_for('static', filename='js/user-main.js') }}"></script>
</body>
</html>